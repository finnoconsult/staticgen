extends ./base.jade

append styles
	style(media="screen")
		| .icon{display:inline-block;width:2rem;background:#fff;border-radius:50%;font-size:0;line-height:2rem;text-align:center}
		| svg{width:1rem;height:1rem;vertical-align:middle}
		| path{fill:#231f20}
		| main dt{position:absolute}
		| main dd{padding:.375em 0 .75em 3em;line-height:1.25;word-break:break-all}
		| @media (min-width:24em){main dl{max-width:20em}}
		| @media (min-width:31em){main dd{white-space:nowrap}}
		| @media (min-width:64em){.photo{position:absolute;right:50%;margin-right:5em}main dl{margin:3.5em 0 0 calc(50% - 1em)}}
	style(media="print") svg{display:none}

block main
	main.narrative.invert.vcard
		- var heading = heading || title
		h1.fn.n= heading
		p
			img.photo.bubble-photo(src=photo, alt=__("Photo of ")+heading)
		dl
			dt.icon
				img(data-inline, src="/img/icon-fa-user.svg")
				|  #{__("Business card")}
			dd
				a.url.hide-link(href=homepage+path)= homepage.split("/")[2] + path
			dt.icon
				img(data-inline, src="/img/icon-fa-envelope.svg")
				|  #{__("E-mail")}
			dd.email
				- var mp = email.replace("@", ".").split(".")
				= mp[0]
				abbr(lang="en", title="at") &#64;
				= mp[1]
				abbr(title=__("dot")) &#46;
				abbr= mp[2]
			dt.icon
				img(data-inline, src="/img/icon-fa-phone.svg")
				|  #{__("Phone")}
			dd
				- var pp = phone.split(" ")
				a.tel(href="tel:"+pp.join("")) #{pp[0]}#[span.prefix= pp[1]]#{pp[2]}
		if social
			dl
				each elsewhere in social
					dt.icon
						if elsewhere.url.indexOf("linkedin") !== -1
							img(data-inline, src="/img/icon-fa-linkedin.svg")
						else if elsewhere.url.indexOf("xing") !== -1
							img(data-inline, src="/img/icon-fa-xing.svg")
						= " " + elsewhere.name
					dd
						a(rel="me", href=elsewhere.url)= elsewhere.url.slice(elsewhere.url.indexOf("/") + 2)

		dl
			dt.icon
				img(data-inline, src="/img/icon-icomoon-office.svg")
				|  #{__("Company address")}
			dd
				b.org FInno Consult #[abbr GmbH]
				.adr
					span.street-address Rasumofskygasse&nbsp;26
					br
					span.postal-code 1030
					| &nbsp;
					span.locality= __("Vienna")
					br.print
					span.country-name.print= __("Austria")

block scripts
	script(data-inline, src="/js/mailto.js")
